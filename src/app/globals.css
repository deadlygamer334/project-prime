@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme {
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --color-card: var(--card, rgba(255, 255, 255, 0.05));
  --color-card-foreground: var(--foreground, #ffffff);

  --color-popover: var(--card, #121214);
  --color-popover-foreground: var(--foreground, #ffffff);

  --color-primary: var(--primary, #a78bfa);
  --color-primary-foreground: #000000;

  --color-secondary: rgba(255, 255, 255, 0.1);
  --color-secondary-foreground: var(--foreground, #ffffff);

  --color-muted: var(--card, rgba(255, 255, 255, 0.05));
  --color-muted-foreground: var(--muted-foreground, #94a3b8);

  --color-accent: var(--color-accent, rgba(167, 139, 250, 0.2));
  --color-accent-foreground: var(--primary, #a78bfa);

  --color-destructive: #ef4444;
  --color-destructive-foreground: #ffffff;

  --color-border: var(--border, rgba(255, 255, 255, 0.1));
  --color-input: var(--card, rgba(255, 255, 255, 0.05));
  --color-ring: var(--primary, #a78bfa);

  --color-chart-1: var(--primary, #a78bfa);
  --color-chart-2: #ec4899;
  --color-chart-3: #22c55e;
  --color-chart-4: #eab308;
  --color-chart-5: #3b82f6;

  --color-sidebar: var(--background, #0a0a0c);
  --color-sidebar-foreground: var(--muted-foreground, #94a3b8);
  --color-sidebar-primary: var(--primary, #a78bfa);
  --color-sidebar-primary-foreground: #ffffff;
  --color-sidebar-accent: var(--card, rgba(255, 255, 255, 0.05));
  --color-sidebar-accent-foreground: var(--foreground, #ffffff);
  --color-sidebar-border: var(--border, rgba(255, 255, 255, 0.1));
  --color-sidebar-ring: var(--primary, #a78bfa);

  --color-orb-purple: var(--color-orb-purple, rgba(167, 139, 250, 0.15));
  --color-orb-pink: var(--color-orb-pink, rgba(236, 72, 153, 0.1));
  --color-orb-green: var(--color-orb-green, rgba(34, 197, 94, 0.1));

  /* Base Aesthetic Variables (Default values) */
  --line-height-base: 1.6;
  --letter-spacing-base: 0em;
  --padding-scale: 1;
  --radius-base: 12px;

  /* DYNAMIC RADIUS TOKENS - Mapping all Tailwind ranges to our base */
  --radius-xs: calc(var(--radius-base) * 0.25);
  --radius-sm: calc(var(--radius-base) * 0.5);
  --radius-md: var(--radius-base);
  --radius-lg: calc(var(--radius-base) * 1.5);
  --radius-xl: calc(var(--radius-base) * 2);
  --radius-2xl: calc(var(--radius-base) * 3);
  --radius-3xl: calc(var(--radius-base) * 4);
  --radius-full: calc(var(--radius-base) * 99);

  /* Override Tailwind defaults with dynamic variables */
  --font-current: "Inter", ui-sans-serif, system-ui, sans-serif;
  --font-sans: var(--font-current);
  --font-serif: var(--font-current);
  /* Force serif to follow our selection too if desired, or keep separate */
  --font-mono: var(--font-current);
  /* Many components use font-mono, let's make it follow current font unless it's strictly code */

  --letter-spacing-tight: calc(var(--letter-spacing-base) - 0.02em);
  --letter-spacing-normal: var(--letter-spacing-base);
  --letter-spacing-wide: calc(var(--letter-spacing-base) + 0.05em);

  --line-height-none: 1;
  --line-height-tight: calc(var(--line-height-base) * 0.75);
  --line-height-snug: calc(var(--line-height-base) * 0.85);
  --line-height-normal: var(--line-height-base);
  --line-height-relaxed: calc(var(--line-height-base) * 1.1);
  --line-height-loose: calc(var(--line-height-base) * 1.25);

  /* Spacing Scale override for "Visual Density" */
  /* This is a bold move, but in v4 it's very effective */
  --spacing-base: calc(0.25rem * var(--padding-scale));
  --spacing-1: calc(var(--spacing-base) * 1);
  --spacing-2: calc(var(--spacing-base) * 2);
  --spacing-3: calc(var(--spacing-base) * 3);
  --spacing-4: calc(var(--spacing-base) * 4);
  --spacing-5: calc(var(--spacing-base) * 5);
  --spacing-6: calc(var(--spacing-base) * 6);
  --spacing-8: calc(var(--spacing-base) * 8);
  --spacing-10: calc(var(--spacing-base) * 10);
  --spacing-12: calc(var(--spacing-base) * 12);
  --spacing-16: calc(var(--spacing-base) * 16);
  --spacing-20: calc(var(--spacing-base) * 20);
  --spacing-24: calc(var(--spacing-base) * 24);
  --spacing-32: calc(var(--spacing-base) * 32);

  --shadow-glass: 0 8px 32px 0 rgba(0, 0, 0, 0.4), 0 1px 1px 0 rgba(255, 255, 255, 0.05) inset;
  --shadow-glow: 0 0 20px rgba(167, 139, 250, 0.2);
  --shadow-soft: 0 12px 40px -12px rgba(0, 0, 0, 0.5);

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
  --animate-float: float 6s ease-in-out infinite;

  @keyframes accordion-down {
    from {
      height: 0;
    }

    to {
      height: var(--radix-accordion-content-height);
    }
  }

  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }

    to {
      height: 0;
    }
  }

  @keyframes float {

    0%,
    100% {
      transform: translateY(0px);
    }

    50% {
      transform: translateY(-20px);
    }
  }

  @keyframes pulse-border {

    0%,
    100% {
      box-shadow: 0 0 20px rgba(168, 85, 247, 0.3);
    }

    50% {
      box-shadow: 0 0 30px rgba(168, 85, 247, 0.6);
    }
  }
}

@layer base {

  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: rgba(255, 255, 255, 0.1);
  }
}

@layer base {
  :root {
    --radius: 24px;
  }

  .dark {
    /* ... */
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
  }

  body {
    @apply bg-background text-foreground;
    line-height: var(--line-height-base);
    letter-spacing: var(--letter-spacing-base);
    font-feature-settings: "rlig" 1, "calt" 1;
    font-family: var(--font-current);
    overflow-x: hidden;
  }

  .container {
    width: 100%;
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
    padding-left: 24px;
    padding-right: 24px;
  }

  h1 {
    font-size: 32px;
    font-weight: 700;
    color: #ffffff;
    letter-spacing: -0.02em;
  }

  .subtitle {
    font-size: 16px;
    font-weight: 400;
    color: #94a3b8;
  }

  .glass-card {
    background: var(--color-card);
    backdrop-filter: blur(12px);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: 24px;
    transition: transform 0.2s ease, border-color 0.2s ease;
  }

  .glass-card:hover {
    border-color: rgba(255, 255, 255, 0.2);
  }

  .floating-orb {
    position: fixed;
    border-radius: 50%;
    filter: blur(80px);
    z-index: -1;
    pointer-events: none;
  }

  .orb-1 {
    width: 400px;
    height: 400px;
    background: var(--color-orb-purple);
    top: -100px;
    left: -100px;
  }

  .orb-2 {
    width: 500px;
    height: 500px;
    background: var(--color-orb-pink);
    bottom: -150px;
    left: 50%;
    transform: translateX(-50%);
  }

  .orb-3 {
    width: 350px;
    height: 350px;
    background: var(--color-orb-green);
    bottom: -50px;
    right: -50px;
  }

  input[type="range"] {
    -webkit-appearance: none;
    appearance: none;
    background: transparent;
    cursor: pointer;
    width: 100%;
  }

  input[type="range"]::-webkit-slider-runnable-track {
    background: rgba(255, 255, 255, 0.1);
    height: 4px;
    border-radius: 2px;
  }

  input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    margin-top: -6px;
    background-color: #ffffff;
    height: 16px;
    width: 16px;
    border-radius: 50%;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
  }

  .visualizer-bar {
    width: 4px;
    background-color: var(--color-primary);
    border-radius: 2px;
    transition: height 0.2s ease;
  }

  /* --- Background Styles --- */

  /* Aurora (Default) */
  .bg-aurora {
    background: radial-gradient(circle at 50% 0%, var(--color-orb-purple) 0%, transparent 60%),
      radial-gradient(circle at 80% 50%, var(--color-orb-pink) 0%, transparent 50%),
      radial-gradient(circle at 20% 80%, var(--color-orb-green) 0%, transparent 50%);
    filter: blur(60px);
    opacity: 0.6;
    animation: aurora-shift 20s ease-in-out infinite alternate;
  }

  @keyframes aurora-shift {
    0% {
      transform: scale(1);
      opacity: 0.6;
    }

    50% {
      transform: scale(1.1);
      opacity: 0.8;
    }

    100% {
      transform: scale(1);
      opacity: 0.6;
    }
  }

  /* Mesh Gradient (Aurora/Oceanic/etc. will use this structure) */
  .bg-mesh,
  .theme-oceanic body,
  .theme-midnight body,
  .theme-evergreen body,
  .theme-solar body,
  .theme-rose body,
  .theme-minimal body {
    background-color: var(--background);
    background-image:
      radial-gradient(at 0% 0%, var(--color-orb-purple) 0, transparent 50%),
      radial-gradient(at 50% 0%, var(--color-orb-pink) 0, transparent 50%),
      radial-gradient(at 100% 0%, var(--color-orb-green) 0, transparent 50%);
    background-attachment: fixed;
    background-size: cover;
  }

  /* Particles / Stars */
  .bg-particles {
    background-image: radial-gradient(white 1px, transparent 1px),
      radial-gradient(white 1px, transparent 1px);
    background-size: 50px 50px, 20px 20px;
    background-position: 0 0, 25px 25px;
    opacity: 0.1;
    animation: particles-move 60s linear infinite;
  }

  @keyframes particles-move {
    0% {
      background-position: 0 0, 25px 25px;
    }

    100% {
      background-position: 100px 100px, 125px 125px;
    }
  }

  /* Shimmer Animation for Skeletons */
  @keyframes shimmer {
    100% {
      transform: translateX(100%);
    }
  }

  .animate-shimmer {
    animation: shimmer 2s infinite linear;
  }

  /* Midnight (Deep Dark) */
  .bg-midnight {
    background: linear-gradient(to bottom, #020617, #0f172a);
  }
}